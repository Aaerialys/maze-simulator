(this["webpackJsonpgrid-simulator"]=this["webpackJsonpgrid-simulator"]||[]).push([[0],{10:function(t,e,a){t.exports=a(18)},15:function(t,e,a){},17:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var r=a(0),s=a.n(r),i=a(8),n=a.n(i),o=(a(15),a(1)),h=a.n(o),l=a(2),u=a(3),c=a(4),f=a(6),d=a(5),g=(a(17),a(9)),p=a.n(g),m=Math.floor(window.innerHeight/25)-6,b=Math.floor(window.innerWidth/25)-1;function k(t){return s.a.createElement("div",{className:"cell",style:{backgroundColor:t.color,color:t.color2},onMouseOver:function(){return t.dragOver(0)},onMouseDown:function(){return t.dragOver(1)}},"\u25cf")}var v=function(t){Object(f.a)(a,t);var e=Object(d.a)(a);function a(t){var r;return Object(u.a)(this,a),(r=e.call(this,t)).state={color:["white","lime","red","black","#f37fff","#bf49ff","gold"]},r}return Object(c.a)(a,[{key:"render",value:function(){for(var t=this,e=[],a=function(a){i=[];for(var r=function(e){if(t.props.grid[a][e]>=0)i.push(s.a.createElement(k,{key:a*b+e,color:t.state.color[t.props.grid[a][e]],color2:t.state.color[t.props.grid[a][e]],dragOver:function(r){return t.props.dragOver(a,e,r)}}));else{for(n=Math.max(0,256-Math.floor(20*Math.log2(1-t.props.grid[a][e]%1e4))).toString(16),o=Math.floor(-t.props.grid[a][e]/1e4);n.length<2;)n="0"+n;n="#"+n+n+n,o=0==o?n:t.state.color[o],i.push(s.a.createElement(k,{key:a*b+e,color:n,color2:o,dragOver:function(r){return t.props.dragOver(a,e,r)}}))}},h=0;h<b;h++)r(h);e.push(s.a.createElement("div",{key:a},i))},r=0;r<m;r++){var i,n,o;a(r)}return s.a.createElement("div",{onMouseDown:function(){return t.props.mousePress(1)},onMouseUp:function(){return t.props.mousePress(0)}},e)}}]),a}(s.a.Component),x=function(t){Object(f.a)(a,t);var e=Object(d.a)(a);function a(t){var r;return Object(u.a)(this,a),(r=e.call(this,t)).state={grid:Array(m).fill().map((function(){return Array(b).fill(0)})),mark:0,pressed:0,fid:0,stop:[],weight:0,algo:"bfs",board:"clear"},r}return Object(c.a)(a,[{key:"setVal",value:function(t,e,a){var r=this.state.grid.slice();r[t][e]=a,this.setState({grid:r})}},{key:"dragOver",value:function(t,e,a){(a||this.state.pressed)&&(this.setVal(t,e,this.state.mark),this.search(0))}},{key:"setMark",value:function(t){this.setState({mark:t})}},{key:"mousePress",value:function(t){this.setState({pressed:t})}},{key:"sleep",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"search",value:function(t){var e=this.state.stop.slice();e[this.state.fid-1]=1,this.setState({stop:e}),"bfs"==this.state.algo?this.bfs(t):"dfs"==this.state.algo?this.dfs(t):"dijkstra"==this.state.algo?this.dijkstra(t):"spfa"==this.state.algo?this.spfa(t):"astar"==this.state.algo&&this.astar(t)}},{key:"bfs",value:function(){var t=Object(l.a)(h.a.mark((function t(e){var a,r,s,i,n,o,l,u,c,f,d,g;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[1,0,-1,0],r=[0,1,0,-1],s=Array(m).fill().map((function(){return Array(b)})),i=[],n=0,o=this.state.fid,this.setState({fid:o+1}),l=0;l<m;l++)for(u=0;u<b;u++)this.state.grid[l][u]>3?this.setVal(l,u,0):1==this.state.grid[l][u]?(s[l][u]=-1,i.push([l,u])):3==this.state.grid[l][u]?s[l][u]=-1:this.state.grid[l][u]<=-1e4&&(this.state.grid[l][u]=this.state.grid[l][u]%1e4);case 3:if(!(n<i.length)){t.next=31;break}if(1!=this.state.stop[o]){t.next=6;break}return t.abrupt("break",31);case 6:if(c=i[n][0],f=i[n][1],n++,2!=this.state.grid[c][f]){t.next=24;break}case 9:if(-1==s[c][f]){t.next=21;break}if(1!=this.state.stop[o]){t.next=12;break}return t.abrupt("break",21);case 12:if(5==this.state.grid[c][f]?this.setVal(c,f,6):this.state.grid[c][f]<=-5e4&&this.setVal(c,f,this.state.grid[c][f]-1e4),d=s[c][f],c-=a[d],f-=r[d],!e){t.next=19;break}return t.next=19,this.sleep(e);case 19:t.next=9;break;case 21:return t.abrupt("break",31);case 24:4==this.state.grid[c][f]?this.setVal(c,f,5):-5e4<this.state.grid[c][f]&&this.state.grid[c][f]<=-4e4&&this.setVal(c,f,this.state.grid[c][f]-1e4);case 25:for(g=0;g<4;g++)0<=c+a[g]&&c+a[g]<m&&0<=f+r[g]&&f+r[g]<b&&null==s[c+a[g]][f+r[g]]&&(s[c+a[g]][f+r[g]]=g,i.push([c+a[g],f+r[g]]),0==this.state.grid[c+a[g]][f+r[g]]?this.setVal(c+a[g],f+r[g],4):-1e4<this.state.grid[c+a[g]][f+r[g]]&&this.state.grid[c+a[g]][f+r[g]]<0&&this.setVal(c+a[g],f+r[g],this.state.grid[c+a[g]][f+r[g]]-4e4));if(!e){t.next=29;break}return t.next=29,this.sleep(e);case 29:t.next=3;break;case 31:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"dfs",value:function(){var t=Object(l.a)(h.a.mark((function t(e){var a,r,s,i,n,o,l,u,c,f,d,g;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[1,0,-1,0],r=[0,1,0,-1],s=Array(m).fill().map((function(){return Array(b)})),i=[],n=this.state.fid,this.setState({fid:n+1}),o=0;o<m;o++)for(l=0;l<b;l++)this.state.grid[o][l]>3?this.setVal(o,l,0):1==this.state.grid[o][l]?(s[o][l]=-1,i.push([o,l])):3==this.state.grid[o][l]?s[o][l]=-1:this.state.grid[o][l]<=-1e4&&(this.state.grid[o][l]=this.state.grid[o][l]%1e4);case 3:if(!(i.length>0)){t.next=30;break}if(1!=this.state.stop[n]){t.next=6;break}return t.abrupt("break",30);case 6:if(u=i.pop(),c=u[0],f=u[1],2!=this.state.grid[c][f]){t.next=23;break}case 8:if(-1==s[c][f]){t.next=20;break}if(1!=this.state.stop[n]){t.next=11;break}return t.abrupt("break",20);case 11:if(5==this.state.grid[c][f]?this.setVal(c,f,6):this.state.grid[c][f]<=-5e4&&this.setVal(c,f,this.state.grid[c][f]-1e4),d=s[c][f],c-=a[d],f-=r[d],!e){t.next=18;break}return t.next=18,this.sleep(e);case 18:t.next=8;break;case 20:return t.abrupt("break",30);case 23:4==this.state.grid[c][f]?this.setVal(c,f,5):-5e4<this.state.grid[c][f]&&this.state.grid[c][f]<=-4e4&&this.setVal(c,f,this.state.grid[c][f]-1e4);case 24:for(g=0;g<4;g++)0<=c+a[g]&&c+a[g]<m&&0<=f+r[g]&&f+r[g]<b&&null==s[c+a[g]][f+r[g]]&&(s[c+a[g]][f+r[g]]=g,i.push([c+a[g],f+r[g]]),0==this.state.grid[c+a[g]][f+r[g]]?this.setVal(c+a[g],f+r[g],4):-1e4<this.state.grid[c+a[g]][f+r[g]]&&this.state.grid[c+a[g]][f+r[g]]<0&&this.setVal(c+a[g],f+r[g],this.state.grid[c+a[g]][f+r[g]]-4e4));if(!e){t.next=28;break}return t.next=28,this.sleep(e);case 28:t.next=3;break;case 30:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"dijkstra",value:function(){var t=Object(l.a)(h.a.mark((function t(e){var a,r,s,i,n,o,l,u,c,f,d,g,p,k;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[1,0,-1,0],r=[0,1,0,-1],s=Array(m).fill().map((function(){return Array(b)})),i=Array(m).fill().map((function(){return Array(b).fill(1e9)})),n=[],o=this.state.fid,this.setState({fid:o+1}),l=0;l<m;l++)for(u=0;u<b;u++)this.state.grid[l][u]>3?this.setVal(l,u,0):1==this.state.grid[l][u]?(s[l][u]=-1,n.push([l,u]),i[l][u]=0):3==this.state.grid[l][u]?(s[l][u]=-1,i[l][u]=0):this.state.grid[l][u]<=-1e4&&(this.state.grid[l][u]=this.state.grid[l][u]%1e4);case 3:if(!(n.length>0)){t.next=33;break}if(1!=this.state.stop[o]){t.next=6;break}return t.abrupt("break",33);case 6:for(c=0,f=0;f<n.length;f++)i[n[f][0]][n[f][1]]<i[n[c][0]][n[c][1]]&&(c=f);if(d=n[c][0],g=n[c][1],n.splice(c,1),2!=this.state.grid[d][g]){t.next=26;break}case 11:if(-1==s[d][g]){t.next=23;break}if(1!=this.state.stop[o]){t.next=14;break}return t.abrupt("break",23);case 14:if(5==this.state.grid[d][g]?this.setVal(d,g,6):this.state.grid[d][g]<=-5e4&&this.setVal(d,g,this.state.grid[d][g]-1e4),p=s[d][g],d-=a[p],g-=r[p],!e){t.next=21;break}return t.next=21,this.sleep(e);case 21:t.next=11;break;case 23:return t.abrupt("break",33);case 26:4==this.state.grid[d][g]?this.setVal(d,g,5):-5e4<this.state.grid[d][g]&&this.state.grid[d][g]<=-4e4&&this.setVal(d,g,this.state.grid[d][g]-1e4);case 27:for(k=0;k<4;k++)0<=d+a[k]&&d+a[k]<m&&0<=g+r[k]&&g+r[k]<b&&(null==s[d+a[k]][g+r[k]]&&(s[d+a[k]][g+r[k]]=k,n.push([d+a[k],g+r[k]]),0==this.state.grid[d+a[k]][g+r[k]]?this.setVal(d+a[k],g+r[k],4):-1e4<this.state.grid[d+a[k]][g+r[k]]&&this.state.grid[d+a[k]][g+r[k]]<0&&this.setVal(d+a[k],g+r[k],this.state.grid[d+a[k]][g+r[k]]-4e4)),i[d+a[k]][g+r[k]]>i[d][g]-Math.min(0,this.state.grid[d+a[k]][g+r[k]]%1e4)+1&&(i[d+a[k]][g+r[k]]=i[d][g]-Math.min(0,this.state.grid[d+a[k]][g+r[k]]%1e4)+1,s[d+a[k]][g+r[k]]=k));if(!e){t.next=31;break}return t.next=31,this.sleep(e);case 31:t.next=3;break;case 33:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"spfa",value:function(){var t=Object(l.a)(h.a.mark((function t(e){var a,r,s,i,n,o,l,u,c,f,d,g;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[1,0,-1,0],r=[0,1,0,-1],s=Array(m).fill().map((function(){return Array(b)})),i=Array(m).fill().map((function(){return Array(b).fill(1e9)})),n=[],o=this.state.fid,this.setState({fid:o+1}),l=0;l<m;l++)for(u=0;u<b;u++)this.state.grid[l][u]>3?this.setVal(l,u,0):1==this.state.grid[l][u]?(s[l][u]=-1,n.push([l,u]),i[l][u]=0):3==this.state.grid[l][u]?(s[l][u]=-1,i[l][u]=0):this.state.grid[l][u]<=-1e4&&(this.state.grid[l][u]=this.state.grid[l][u]%1e4);case 3:if(!(n.length>0)){t.next=31;break}if(1!=this.state.stop[o]){t.next=6;break}return t.abrupt("break",31);case 6:if(c=n[0][0],f=n[0][1],n.splice(0,1),2!=this.state.grid[c][f]){t.next=24;break}case 9:if(-1==s[c][f]){t.next=21;break}if(1!=this.state.stop[o]){t.next=12;break}return t.abrupt("break",21);case 12:if(5==this.state.grid[c][f]?this.setVal(c,f,6):this.state.grid[c][f]<=-5e4&&this.setVal(c,f,this.state.grid[c][f]-1e4),d=s[c][f],c-=a[d],f-=r[d],!e){t.next=19;break}return t.next=19,this.sleep(e);case 19:t.next=9;break;case 21:return t.abrupt("break",31);case 24:4==this.state.grid[c][f]?this.setVal(c,f,5):-5e4<this.state.grid[c][f]&&this.state.grid[c][f]<=-4e4&&this.setVal(c,f,this.state.grid[c][f]-1e4);case 25:for(g=0;g<4;g++)0<=c+a[g]&&c+a[g]<m&&0<=f+r[g]&&f+r[g]<b&&i[c+a[g]][f+r[g]]>i[c][f]-Math.min(0,this.state.grid[c+a[g]][f+r[g]]%1e4)+1&&(i[c+a[g]][f+r[g]]=i[c][f]-Math.min(0,this.state.grid[c+a[g]][f+r[g]]%1e4)+1,s[c+a[g]][f+r[g]]=g,n.push([c+a[g],f+r[g]]),0==this.state.grid[c+a[g]][f+r[g]]?this.setVal(c+a[g],f+r[g],4):-1e4<this.state.grid[c+a[g]][f+r[g]]&&this.state.grid[c+a[g]][f+r[g]]<0&&this.setVal(c+a[g],f+r[g],this.state.grid[c+a[g]][f+r[g]]-4e4));if(!e){t.next=29;break}return t.next=29,this.sleep(e);case 29:t.next=3;break;case 31:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"astar",value:function(){var t=Object(l.a)(h.a.mark((function t(e){var a,r,s,i,n,o,l,u,c,f,d,g,p,k,v,x,y;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[1,0,-1,0],r=[0,1,0,-1],s=Array(m).fill().map((function(){return Array(b)})),i=Array(m).fill().map((function(){return Array(b).fill(1e9)})),n=Array(m).fill().map((function(){return Array(b).fill(1e9)})),o=[],l=this.state.fid,this.setState({fid:l+1}),u=0;u<m;u++)for(c=0;c<b;c++)if(this.state.grid[u][c]>3)this.setVal(u,c,0);else if(1==this.state.grid[u][c])s[u][c]=-1,o.push([u,c]),i[u][c]=0;else if(2==this.state.grid[u][c])for(f=0;f<m;f++)for(d=0;d<b;d++)n[f][d]=Math.min(n[f][d],Math.abs(f-u)+Math.abs(d-c));else 3==this.state.grid[u][c]?(s[u][c]=-1,i[u][c]=0):this.state.grid[u][c]<=-1e4&&(this.state.grid[u][c]=this.state.grid[u][c]%1e4);case 3:if(!(o.length>0)){t.next=32;break}if(1!=this.state.stop[l]){t.next=6;break}return t.abrupt("break",32);case 6:for(p=o[g=0][0],k=o[g][1],v=0;v<o.length;v++)i[o[v][0]][o[v][1]]+n[o[v][0]][o[v][1]]<=i[p][k]+n[p][k]&&(g=v,p=o[v][0],k=o[v][1]);if(o.splice(g,1),2!=this.state.grid[p][k]){t.next=25;break}case 10:if(-1==s[p][k]){t.next=22;break}if(1!=this.state.stop[l]){t.next=13;break}return t.abrupt("break",22);case 13:if(5==this.state.grid[p][k]?this.setVal(p,k,6):this.state.grid[p][k]<=-5e4&&this.setVal(p,k,this.state.grid[p][k]-1e4),x=s[p][k],p-=a[x],k-=r[x],!e){t.next=20;break}return t.next=20,this.sleep(e);case 20:t.next=10;break;case 22:return t.abrupt("break",32);case 25:4==this.state.grid[p][k]?this.setVal(p,k,5):-5e4<this.state.grid[p][k]&&this.state.grid[p][k]<=-4e4&&this.setVal(p,k,this.state.grid[p][k]-1e4);case 26:for(y=0;y<4;y++)0<=p+a[y]&&p+a[y]<m&&0<=k+r[y]&&k+r[y]<b&&(null==s[p+a[y]][k+r[y]]&&(s[p+a[y]][k+r[y]]=y,o.push([p+a[y],k+r[y]]),0==this.state.grid[p+a[y]][k+r[y]]?this.setVal(p+a[y],k+r[y],4):-1e4<this.state.grid[p+a[y]][k+r[y]]&&this.state.grid[p+a[y]][k+r[y]]<0&&this.setVal(p+a[y],k+r[y],this.state.grid[p+a[y]][k+r[y]]-4e4)),i[p+a[y]][k+r[y]]>i[p][k]-Math.min(0,this.state.grid[p+a[y]][k+r[y]]%1e4)+1&&(i[p+a[y]][k+r[y]]=i[p][k]-Math.min(0,this.state.grid[p+a[y]][k+r[y]]%1e4)+1,s[p+a[y]][k+r[y]]=y));if(!e){t.next=30;break}return t.next=30,this.sleep(e);case 30:t.next=3;break;case 32:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setWeight",value:function(t){var e=Math.max(0,Math.min(9999,t.target.value));this.setState({weight:-e}),this.setMark(-e)}},{key:"setAlgo",value:function(t){this.setState({algo:t.target.value})}},{key:"setBoard",value:function(t){this.setState({board:t.target.value})}},{key:"clear",value:function(){var t=this.state.stop.slice();if(t[this.state.fid-1]=1,this.setState({stop:t}),"clear"==this.state.board)for(var e=0;e<m;e++)for(var a=0;a<b;a++)this.setVal(e,a,0);else if("random"==this.state.board)for(var r=0;r<m;r++)for(var s=0;s<b;s++)this.setVal(r,s,Math.random()<.2?3:0);else if("random weighted"==this.state.board)for(var i=0;i<m;i++)for(var n=0;n<b;n++)this.setVal(i,n,Math.random()<.5?0:Math.floor(-Math.random()*Math.random()*100));else if("maze"==this.state.board||"random maze"==this.state.board){for(var o="maze"==this.state.board?0:.2,h=0;h<m;h++)for(var l=0;l<b;l++)this.setVal(h,l,Math.random()<o?3:0);var u=[1,0,-1,0],c=[0,1,0,-1],f=[],d=Array(m).fill().map((function(){return Array(b).fill(0)})),g=0;for(f.push([0,0]);g<f.length;){var p=f[g][0],k=f[g][1];if(g++,console.log(p,k),d[p][k]>1&&Math.random()>o&&0<p&&p<m-1&&0<k&&k<b-1)this.setVal(p,k,3);else{d[p][k]++;for(var v=0;v<4;v++)0<=p+u[v]&&p+u[v]<m&&0<=k+c[v]&&k+c[v]<b&&3!=this.state.grid[p+u[v]][k+c[v]]&&(d[p+u[v]][k+c[v]]++,1==d[p+u[v]][k+c[v]]&&f.push([p+u[v],k+c[v]]))}}}}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("header",null,s.a.createElement("h1",null,s.a.createElement("a",{href:"index.html"},"Grid Simulator")),s.a.createElement("a",{href:"https://aaerialys.me"},s.a.createElement("img",{src:p.a,alt:"logo"}))),s.a.createElement("div",{className:"main"}),s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return t.setMark(3)}},"Add Wall"),s.a.createElement("button",{onClick:function(){return t.setMark(1)}},"Add Source"),s.a.createElement("button",{onClick:function(){return t.setMark(2)}},"Add Sink"),s.a.createElement("label",null,s.a.createElement("button",{onClick:function(){return t.clear()}},"Set board"),s.a.createElement("select",{onChange:function(e){return t.setBoard(e)}},s.a.createElement("option",{value:"clear"},"Clear"),s.a.createElement("option",{value:"random"},"Random"),s.a.createElement("option",{value:"random weighted"},"Random weighted"),s.a.createElement("option",{value:"maze"},"Fractal"),s.a.createElement("option",{value:"random maze"},"Random Fractal"))),s.a.createElement("label",null,s.a.createElement("button",{onClick:function(){return t.setMark(t.state.weight)}},"Add empty cell (weighted)"),s.a.createElement("input",{type:"number",value:-this.state.weight,onChange:function(e){return t.setWeight(e)}})),s.a.createElement("label",null,s.a.createElement("button",{onClick:function(){return t.search(1)}},"Search"),s.a.createElement("select",{onChange:function(e){return t.setAlgo(e)}},s.a.createElement("option",{value:"bfs"},"bfs"),s.a.createElement("option",{value:"dfs"},"dfs"),s.a.createElement("option",{value:"dijkstra"},"dijkstra"),s.a.createElement("option",{value:"spfa"},"spfa"),s.a.createElement("option",{value:"astar"},"a*"))),s.a.createElement("p",null,"This program simulates pathfinding algorithms on a grid to find the shortest path from any source to sink."),s.a.createElement(v,{grid:this.state.grid,mousePress:function(e){return t.mousePress(e)},dragOver:function(e,a,r){return t.dragOver(e,a,r)}})),s.a.createElement("footer",null,s.a.createElement("div",{className:"bottom"},s.a.createElement("p",null,"2020 | ",s.a.createElement("a",{href:"https://aaerialys.me"},"Aaerialys")))))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},9:function(t,e,a){t.exports=a.p+"static/media/logo.3ef91830.ico"}},[[10,1,2]]]);
//# sourceMappingURL=main.18bdf3a7.chunk.js.map